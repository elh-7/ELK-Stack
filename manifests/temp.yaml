apiVersion: v1                                 # Versión de la API usada para recursos básicos (v1 incluye objetos como Pod, Service, ConfigMap, etc.)
kind: Pod                                      # Tipo de recurso: Pod, la unidad más pequeña desplegable en Kubernetes
metadata:                                      # Metadatos del objeto
  name: elastic-cert-gen                       # Nombre asignado al Pod (identificador único dentro del namespace)
  namespace: logging                           # Namespace donde se desplegará el Pod (en este caso, el espacio de trabajo del stack EFK)
spec:                                          # Especificación del comportamiento del Pod
  containers:                                  # Lista de contenedores que se ejecutarán dentro del Pod
  - name: elasticsearch                        # Nombre del contenedor (identifica este proceso dentro del Pod)
    image: docker.elastic.co/elasticsearch/elasticsearch:7.17.4  
                                                # Imagen de Elasticsearch usada para generar los certificados (versión 7.17.4)
    command: ["/bin/sh", "-c", "sleep 3600"]   # Comando que ejecuta el contenedor: abre una shell y duerme por 3600 segundos (1 hora)
                                                # Esto mantiene el contenedor en ejecución el tiempo suficiente para ejecutar manualmente comandos
                                                # de generación de certificados u otras tareas administrativas desde dentro del Pod
  restartPolicy: Never                         # Política de reinicio: indica que el Pod no debe reiniciarse automáticamente si finaliza
