apiVersion: v1                     # Versión de la API de Kubernetes utilizada para definir este objeto (v1 corresponde a los objetos básicos del core)
kind: Service                      # Tipo de recurso: un "Service" expone un conjunto de Pods como un servicio de red estable
metadata:                          # Metadatos del objeto, como su nombre, namespace, y etiquetas
  name: elasticsearch              # Nombre asignado al servicio (identificador único dentro del namespace)
  namespace: logging               # Namespace donde se desplegará el servicio, en este caso "logging"
spec:                              # Especificación del comportamiento deseado del servicio
  clusterIP: None                  # Se define como "None" para crear un "Headless Service" (sin IP de clúster fija); usado para descubrimiento directo de pods (StatefulSet)
  selector:                        # Define las etiquetas de los pods que este servicio debe seleccionar
    app: elasticsearch             # Selector que vincula el servicio con los pods etiquetados como "app: elasticsearch"
  ports:                           # Lista de puertos que el servicio expondrá
    - name: http                   # Nombre lógico del puerto, usado como referencia dentro del manifiesto
      port: 9200                   # Puerto del servicio dentro del clúster al que otros pods pueden acceder
      targetPort: 9200             # Puerto dentro del contenedor donde la aplicación (Elasticsearch) escucha para HTTP
    - name: transport              # Nombre lógico del segundo puerto, utilizado para comunicación interna entre nodos
      port: 9300                   # Puerto del servicio para tráfico de transporte (comunicación entre nodos Elasticsearch)
      targetPort: 9300             # Puerto del contenedor al que se redirige el tráfico del puerto 9300
